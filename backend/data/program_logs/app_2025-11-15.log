2025-11-15 13:56:38 | INFO     | api:lifespan:62 - Starting CTLChat API server...
2025-11-15 13:56:38 | ERROR    | api:lifespan:68 - Failed to initialize RAG Engine: ANTHROPIC_API_KEY not set in environment variables
2025-11-15 13:57:29 | INFO     | api:lifespan:62 - Starting CTLChat API server...
2025-11-15 13:57:29 | ERROR    | api:lifespan:68 - Failed to initialize RAG Engine: ANTHROPIC_API_KEY not set in environment variables
2025-11-15 13:58:06 | INFO     | api:lifespan:62 - Starting CTLChat API server...
2025-11-15 13:58:53 | INFO     | vector_store:__init__:39 - Initialized ChromaDB collection: ctl_chat_docs
2025-11-15 13:58:53 | INFO     | rag_engine:__init__:28 - RAG Engine initialized
2025-11-15 13:58:53 | INFO     | api:lifespan:66 - RAG Engine initialized successfully
2025-11-15 13:58:55 | INFO     | api:lifespan:62 - Starting CTLChat API server...
2025-11-15 13:59:01 | INFO     | vector_store:__init__:39 - Initialized ChromaDB collection: ctl_chat_docs
2025-11-15 13:59:01 | INFO     | rag_engine:__init__:28 - RAG Engine initialized
2025-11-15 13:59:01 | INFO     | api:lifespan:66 - RAG Engine initialized successfully
2025-11-15 14:00:39 | INFO     | file_handler:process_uploaded_file:78 - Processing uploaded file: test_upload.md
2025-11-15 14:00:39 | INFO     | vector_store:add_documents:70 - Added 1 documents to vector store
2025-11-15 14:00:39 | INFO     | file_handler:process_uploaded_file:117 - Successfully processed test_upload.md: 1 chunks added
2025-11-15 14:01:15 | INFO     | file_handler:process_uploaded_file:78 - Processing uploaded file: test_upload.txt
2025-11-15 14:01:15 | INFO     | vector_store:add_documents:70 - Added 1 documents to vector store
2025-11-15 14:01:15 | INFO     | file_handler:process_uploaded_file:117 - Successfully processed test_upload.txt: 1 chunks added
2025-11-15 14:01:41 | INFO     | api:chat:140 - Received chat request: What are the key components of RAG?...
2025-11-15 14:01:41 | INFO     | vector_store:search:111 - Retrieved 2 documents for query
2025-11-15 14:01:41 | INFO     | rag_engine:query:197 - Processing RAG query: What are the key components of RAG?...
2025-11-15 14:01:41 | INFO     | vector_store:search:111 - Retrieved 2 documents for query
2025-11-15 14:01:41 | INFO     | rag_engine:query:205 - Retrieved 2 documents
2025-11-15 14:01:41 | ERROR    | rag_engine:generate:109 - Error generating response: Error code: 404 - {'type': 'error', 'error': {'type': 'not_found_error', 'message': 'model: claude-3-5-sonnet-20241022'}, 'request_id': 'req_011CVAC6fG17Y9RWwcAJ5y6H'}
2025-11-15 14:01:41 | ERROR    | api:chat:174 - Error processing chat request: Error code: 404 - {'type': 'error', 'error': {'type': 'not_found_error', 'message': 'model: claude-3-5-sonnet-20241022'}, 'request_id': 'req_011CVAC6fG17Y9RWwcAJ5y6H'}
2025-11-15 14:04:47 | INFO     | api:chat:140 - Received chat request: What are the key components of RAG?...
2025-11-15 14:04:47 | INFO     | vector_store:search:111 - Retrieved 2 documents for query
2025-11-15 14:04:47 | INFO     | rag_engine:query:197 - Processing RAG query: What are the key components of RAG?...
2025-11-15 14:04:47 | INFO     | vector_store:search:111 - Retrieved 2 documents for query
2025-11-15 14:04:47 | INFO     | rag_engine:query:205 - Retrieved 2 documents
2025-11-15 14:04:47 | ERROR    | rag_engine:generate:109 - Error generating response: Error code: 404 - {'type': 'error', 'error': {'type': 'not_found_error', 'message': 'model: claude-3-5-sonnet-20241022'}, 'request_id': 'req_011CVACLNW5RKb5s3PDzEP5t'}
2025-11-15 14:04:47 | ERROR    | api:chat:174 - Error processing chat request: Error code: 404 - {'type': 'error', 'error': {'type': 'not_found_error', 'message': 'model: claude-3-5-sonnet-20241022'}, 'request_id': 'req_011CVACLNW5RKb5s3PDzEP5t'}
2025-11-15 14:05:58 | INFO     | api:lifespan:74 - Shutting down CTLChat API server...
2025-11-15 14:05:59 | INFO     | api:lifespan:62 - Starting CTLChat API server...
2025-11-15 14:06:04 | INFO     | vector_store:__init__:39 - Initialized ChromaDB collection: ctl_chat_docs
2025-11-15 14:06:04 | INFO     | rag_engine:__init__:28 - RAG Engine initialized
2025-11-15 14:06:04 | INFO     | api:lifespan:66 - RAG Engine initialized successfully
2025-11-15 14:06:20 | INFO     | api:chat:140 - Received chat request: What are the key components of RAG?...
2025-11-15 14:06:20 | INFO     | vector_store:search:111 - Retrieved 2 documents for query
2025-11-15 14:06:20 | INFO     | rag_engine:query:197 - Processing RAG query: What are the key components of RAG?...
2025-11-15 14:06:20 | INFO     | vector_store:search:111 - Retrieved 2 documents for query
2025-11-15 14:06:20 | INFO     | rag_engine:query:205 - Retrieved 2 documents
2025-11-15 14:06:22 | INFO     | rag_engine:generate:105 - Generated response successfully
2025-11-15 14:13:40 | INFO     | file_handler:process_uploaded_file:78 - Processing uploaded file: Group Teambuilding Games and Initiatives .md
2025-11-15 14:13:45 | INFO     | vector_store:add_documents:70 - Added 437 documents to vector store
2025-11-15 14:13:45 | INFO     | file_handler:process_uploaded_file:117 - Successfully processed Group Teambuilding Games and Initiatives .md: 437 chunks added
2025-11-15 14:14:09 | INFO     | api:chat:140 - Received chat request: can you tell me about some of the icebrerakers?...
2025-11-15 14:14:09 | INFO     | vector_store:search:111 - Retrieved 5 documents for query
2025-11-15 14:14:09 | INFO     | rag_engine:query:197 - Processing RAG query: can you tell me about some of the icebrerakers?...
2025-11-15 14:14:09 | INFO     | vector_store:search:111 - Retrieved 5 documents for query
2025-11-15 14:14:09 | INFO     | rag_engine:query:205 - Retrieved 5 documents
2025-11-15 14:14:10 | ERROR    | rag_engine:generate:109 - Error generating response: Error code: 400 - {'type': 'error', 'error': {'type': 'invalid_request_error', 'message': 'messages: Unexpected role "system". The Messages API accepts a top-level `system` parameter, not "system" as an input message role.'}, 'request_id': 'req_011CVAD3sLZu981E5e1sgq9Q'}
2025-11-15 14:14:10 | ERROR    | api:chat:174 - Error processing chat request: Error code: 400 - {'type': 'error', 'error': {'type': 'invalid_request_error', 'message': 'messages: Unexpected role "system". The Messages API accepts a top-level `system` parameter, not "system" as an input message role.'}, 'request_id': 'req_011CVAD3sLZu981E5e1sgq9Q'}
2025-11-15 14:16:41 | INFO     | api:chat:140 - Received chat request: tell me about some ice breakers...
2025-11-15 14:16:41 | INFO     | vector_store:search:111 - Retrieved 5 documents for query
2025-11-15 14:16:41 | INFO     | rag_engine:query:197 - Processing RAG query: tell me about some ice breakers...
2025-11-15 14:16:41 | INFO     | vector_store:search:111 - Retrieved 5 documents for query
2025-11-15 14:16:41 | INFO     | rag_engine:query:205 - Retrieved 5 documents
2025-11-15 14:16:46 | INFO     | rag_engine:generate:105 - Generated response successfully
